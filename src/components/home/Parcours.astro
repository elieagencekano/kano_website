---
const steps = [
  {
    number: "01",
    title: "Rendez-vous en visio",
    description: "On échange 30 minutes pour comprendre vos besoins, votre marché et vos objectifs.",
    duration: "30 min",
    isClient: true
  },
  {
    number: "02",
    title: "Création de la V1",
    description: "On s'occupe de tout : design, développement et contenu. Vous validez les grandes lignes.",
    duration: "1 semaine",
    isClient: false
  },
  {
    number: "03",
    title: "Vos ajustements",
    description: "Vous nous transmettez vos corrections. On ajuste le contenu selon vos retours.",
    duration: "2 heures",
    isClient: true
  },
  {
    number: "04",
    title: "C'est parti !",
    description: "Livraison de votre site finalisé, fonctionnel et prêt à générer des demandes.",
    duration: "48h",
    isClient: false
  }
];
---

<section class="parcours" aria-label="Parcours d'achat">
  <div class="container-parcours">
    <div class="header-parcours">
      <h2>Un parcours simple, rapide et sans prise de tête</h2>
      <p class="intro-parcours">
        Vous avez mieux à faire que de gérer la technique. On s'occupe de tout, vous gardez le contrôle.
      </p>
    </div>

    <p class="time-recap">
      Votre site en allouant <span class="highlight-time">2h30</span> de votre temps
    </p>

    <div class="timeline-wrapper">
      <div class="timeline">
        {steps.map((step, index) => (
          <div class="step glass" style={`animation-delay:${0.15 + index * 0.12}s`}>
            <div class="step-number">{step.number}</div>
            <div class="step-content">
              <h3>{step.title}</h3>
              <p>{step.description}</p>
              <span class={`step-duration ${step.isClient ? 'client-time' : ''}`}>{step.duration}</span>
            </div>
          </div>
        ))}
      </div>
    </div>

    <div class="cta-parcours">
      <p class="cta-text">Prêt à démarrer sans perdre de temps ?</p>
      <a href="/contact" class="btn-parcours">
        <span>Lancer mon projet</span>
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M5 12h14M12 5l7 7-7 7" />
        </svg>
      </a>
    </div>
  </div>
</section>

<style>
  .parcours{position:relative;padding:120px 0;overflow:hidden;z-index:1}
  .container-parcours{max-width:1380px;margin:0 auto;padding:0 32px}
  .header-parcours{text-align:center;max-width:800px;margin:0 auto 80px;animation:fadeUp 700ms ease-out}
  @keyframes fadeUp{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}
  .header-parcours h2{font-size:clamp(2rem,3.5vw,3rem);margin:0 0 16px;background:linear-gradient(135deg,#fff 0%,rgba(255,255,255,.85) 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;font-family:Montserrat,sans-serif}
  .intro-parcours{font-size:1.15rem;color:var(--kano-light);opacity:.88;line-height:1.6;margin:0}
  
  .timeline-wrapper{max-width:1280px;margin:0 auto;padding:0 0 20px 0}
  .timeline{display:flex;gap:32px;justify-content:center}
  
  .step{
    flex:1;min-width:240px;max-width:280px;min-height:300px;
    display:flex;flex-direction:column;gap:14px;
    padding:28px 20px;border-radius:20px;
    background:rgba(255,255,255,.06);
    border:1px solid rgba(255,255,255,.12);
    backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);
    box-shadow:0 12px 40px rgba(0,0,0,.3);
    transition:transform .35s cubic-bezier(.4,0,.2,1),
               box-shadow .35s,border-color .35s;
    animation:slideUp 700ms ease-out backwards;
    -webkit-tap-highlight-color:transparent;
    outline:none;
  }
  
  @keyframes slideUp{from{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}
  
  @media (hover:hover) and (pointer:fine){
    .step:hover{
      transform:translateY(-3px);
      box-shadow:0 14px 45px rgba(0,0,0,.22);
      border-color:rgba(212,175,55,.3);
    }
  }
  
  .step:active,
  .step:focus{
    outline:none;
    transform:none;
    box-shadow:0 12px 40px rgba(0,0,0,.3);
  }
  
  .step-number{width:56px;height:56px;border-radius:14px;background:linear-gradient(135deg,rgba(212,175,55,.2),rgba(212,175,55,.08));border:1px solid rgba(212,175,55,.4);display:flex;align-items:center;justify-content:center;font-size:1.4rem;font-weight:900;color:var(--kano-gold);font-family:Montserrat,sans-serif;margin:0 auto;flex-shrink:0}
  .step-content{flex:1;display:flex;flex-direction:column;gap:12px;text-align:center}
  .step-content h3{font-size:1.25rem;font-weight:800;color:#fff;margin:0;letter-spacing:.3px;font-family:Montserrat,sans-serif}
  .step-content p{color:var(--kano-light);opacity:.88;font-size:.95rem;line-height:1.6;margin:0}
  .step-duration{padding:10px 20px;border-radius:999px;background:rgba(212,175,55,.12);border:1px solid rgba(212,175,55,.3);color:var(--kano-gold);font-size:.95rem;font-weight:700;align-self:center;margin-top:4px}
  .step-duration.client-time{background:#E8F4F8;border:1px solid rgba(232,244,248,.6);color:#20416A;transition:transform .3s cubic-bezier(.34,1.56,.64,1),box-shadow .3s ease;cursor:pointer}
  
  .time-recap{text-align:center;font-size:1.35rem;color:var(--kano-light);opacity:.92;margin:0 0 28px 0;font-weight:500;line-height:1.5;cursor:pointer}
  .highlight-time{display:inline-block;color:#E8F4F8;font-weight:800;font-family:Montserrat,sans-serif;transition:transform .3s cubic-bezier(.34,1.56,.64,1)}
  
  .client-time-hover .step-duration.client-time{transform:scale(1.08);box-shadow:0 4px 16px rgba(232,244,248,.25)}
  
  .client-time-hover .highlight-time{transform:scale(1.08)}
  
  .cta-parcours{text-align:center;margin-top:48px;padding-top:40px;border-top:1px solid rgba(255,255,255,.08);animation:fadeUp 900ms ease-out .6s backwards}
  .cta-text{font-size:1.3rem;color:var(--kano-light);opacity:.9;margin:0 0 24px;font-weight:500}
  .btn-parcours{display:inline-flex;align-items:center;gap:10px;padding:18px 36px;border-radius:999px;background:var(--kano-gold);color:var(--kano-ink);font-weight:700;font-size:1.08rem;text-decoration:none;transition:all .3s cubic-bezier(.4,0,.2,1);box-shadow:0 8px 26px rgba(212,175,55,.3)}
  .btn-parcours:hover{transform:translateY(-3px);box-shadow:0 12px 32px rgba(212,175,55,.45)}
  
  @media (max-width:1024px){
    .container-parcours{padding:0;overflow:visible}
    .timeline-wrapper{overflow-x:auto;overflow-y:visible;-webkit-overflow-scrolling:touch;scrollbar-width:none;-ms-overflow-style:none;margin:0;padding:0 0 40px 0}
    .timeline-wrapper::-webkit-scrollbar{display:none}
    .timeline{justify-content:flex-start;gap:24px;padding:0 32px}
    .timeline::after{content:"";display:block;width:6px;flex-shrink:0}
    .step{flex:0 0 auto;min-width:300px;max-width:320px;min-height:300px}
    .time-recap{margin-left:32px;margin-right:32px}
    .cta-parcours{margin-left:32px;margin-right:32px}
  }
  
  @media (max-width:768px){
    .parcours{padding:80px 0}
    .header-parcours{margin-bottom:60px;padding:0 20px}
    .timeline-wrapper{padding:0 0 40px 0}
    .timeline{padding:0 20px}
    .timeline::after{width:2px}
    .step{min-width:280px;max-width:300px;padding:24px 18px;min-height:280px;box-shadow:0 10px 30px rgba(0,0,0,.25)}
    .step-number{width:48px;height:48px;font-size:1.2rem}
    .step-content h3{font-size:1.15rem}
    .step-content p{font-size:.9rem}
    .step-duration{padding:8px 16px;font-size:.9rem}
    .time-recap{font-size:1.15rem;margin-left:20px;margin-right:20px}
    .cta-parcours{margin-top:32px;padding-top:32px;margin-left:20px;margin-right:20px}
    .cta-text{font-size:1.1rem}
    .btn-parcours{padding:16px 28px;font-size:1rem}
  }
</style>

<script>
document.addEventListener('DOMContentLoaded', () => {
  const clientSteps = document.querySelectorAll('.step:has(.client-time)');
  const timeRecap = document.querySelector('.time-recap');
  const container = document.querySelector('.container-parcours');
  
  if (!container) return;
  
  const allTriggers = [...clientSteps, timeRecap].filter(Boolean);
  
  allTriggers.forEach(trigger => {
    trigger.addEventListener('mouseenter', () => {
      container.classList.add('client-time-hover');
    });
    
    trigger.addEventListener('mouseleave', () => {
      container.classList.remove('client-time-hover');
    });
  });
});
</script>