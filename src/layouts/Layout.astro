---
import "../styles/global.css";
import Intro from "../components//Intro.astro";
import Header from "../components/Header.astro";
import BackgroundLiquid from "../components/BackgroundLiquid.astro";
import Footer from "../components/Footer.astro";

const { title = "KANO", description = "" } = Astro.props;
---
<!doctype html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
    <meta name="theme-color" media="(prefers-color-scheme: light)" content="#0a0f16" />
    <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#0a0f16" />
    <title>{title}</title>
    <meta name="description" content={description} />
    <link rel="icon" href={`${import.meta.env.BASE_URL}favicon.svg`} />
    <link rel="manifest" href={`${import.meta.env.BASE_URL}site.webmanifest`} />

    <style>
      html{
        margin:0;
        padding:0;
        overflow-x:hidden;
        overflow-y:scroll;
        background:#0a0f16;
      }
      body{
        margin:0;
        padding:0;
        font-family:"Poppins",system-ui,-apple-system,"Segoe UI",Roboto,sans-serif;
        background:transparent;
        color:#fff;
        overflow-x:clip;
        position:relative;
      }
      body::before{
        content:"";
        position:fixed;
        top:-35vh;
        left:-15vw;
        right:-15vw;
        bottom:-35vh;
        z-index:-10;
        background:
          radial-gradient(1400px 1000px at 12% -10%, #0b1526 0%, #0b1526 50%, transparent 70%),
          radial-gradient(1000px 800px at 88% 8%,  #132a46 0%, #132a46 30%, transparent 65%),
          linear-gradient(180deg,#0b1526 0%, #0a0f16 100%);
        pointer-events:none;
      }

      :root{ --center-nudge:0px; }

      :where(#kano-nav, .mobile-dropdown){
        left:50% !important;
        transform: translateX(calc(-50% + var(--center-nudge))) !important;
      }

      .price-arrow{ box-sizing:border-box; }

      body.center-guide::before{
        content:""; position:fixed; top:0; bottom:0; left:50%;
        width:1px; background:red; z-index:999999; pointer-events:none;
      }
    </style>
  </head>
  <body>
    <Intro />
    <Header />
    <BackgroundLiquid />
    <slot />
    <Footer />
    
    <script>
      (function(){
        function setNudge(){
          var odd = (window.innerWidth % 2) === 1;
          document.documentElement.style.setProperty('--center-nudge', odd ? '0.5px' : '0px');
        }
        setNudge();
        window.addEventListener('resize', setNudge);
      })();
    </script>
  </body>
</html>